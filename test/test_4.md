У компании имеется следующии склад (см. рис), три ряда стеллажей, стоящие в ряд по
700 ед. Каждый стеллаж содержит 5 полок. Каждая полка содержит 6 ячеек. Между рядами стеллажей есть проходы. Между стеллажами в одном ряду проходов нет. Ширина полок одинакова и равна ширине прохода. Зеленым цветом обозначены проходы.
Кладовщику выдается случайный перечень ячеек, из которых требуется взять товар. Помогите составить маршрут передвижения кладовщика по складу, начиная движение от стола, таким образом, чтобы он затратил минимально возможный путь.
1. Достаточно описать шаги алгоритма решения задачи.
2. Объясните почему решение оптимальное.

Ответ, Алгоритм:
1. Группируем ячейки по стеллажам
   - (ряд, номер стеллажа) → список нужных ячеек, на полках
   - внутри стеллажа — (полка, позиция на полке)

Это снижает количество точек для маршрута, упрощая задачу

2. Построение графа
Узлы — стеллажи (ряд + номер стеллажа)
Рёбра — переходы между стеллажами вдоль стеллажа, с весом 3 шага, и переходы между рядами 3 шага (длина стелажа + продвижение)

3. Вычисление расстояний:
Для каждой пары стеллажей рассчитываем минимальный путь между стеллажами, и от стола до каждого стеллажа, с учётом разрешённых переходов, то есть движений только по проходам. Для расчета можно использовать алгоритм например Дейкстры

4. Решение задачи коммивояжера (TSP) по стеллажам
  На графе стеллажей ищем маршрут минимальной длины, посещающий все вершины и возвращающийся к столу.

  Для большого числа стеллажей применяем эвристики (жадный алгоритм ближайшего соседа, 2-opt и другие)

5. Построение маршрута внутри каждого стеллажа
  В выбранном порядке посещения стеллажей прокладываем путь по нужным ячейкам каждого стеллажа, обход по порядку

Почему решение оптимальное

- Работа с стеллажами, а не ячейками, сокращает задачу до 2100 узлов вместо десятков тысяч.
- Веса рёбер отражают реальные расстояния, проходы между рядами примерно равны проходу мимо стеллажа
- этот алгоритм дейкстра + TSP даёт гарантированно короткий маршрут.
Можно сравнить например с таким вариантом "зигзага", обход всего склада за один раз, он не учитывает что все товары могут находиться рядом со столом

```
 ↑ → →  ↓     → → → →
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑   |  ↓  |  ↑  |   ↓
 ↑      → → → →      ↓
стол ← ← ← ← ← ← ← ← ←
```